<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Blog</title>
  </head>
  <body>

    <m-store name="@posts"></m-store>

    <div m-route="/blog">
      <SiteNavigation />
      <MainContentArea>
        <BlogPost post="{ @posts | first }" />
      </MainContentArea>
      <SiteSidebar />
      <SiteFooter />
    </div>

    <component name="SiteNavigation">
    </component>

    <component name="MainContentArea">
      <div class="container">
        <div class="content">
          <contents/>
        </div>
      </div>
    </component>

    <component name="SiteFooter">
    </component>

    <component name="BlogPost" attribs="post">
      <article class="blog-post">
        <h1>{post.title}</h1>
        <div>{post.content}</div>
      </article>
    </component>

    <component name="Story" attribs="story">
      <img src="{story.author.profilePicture.uri}">
      <h3>{story.author.name}</h3>
      <p>{story.text}</p>
    </component>

    <component name="NewsFeed" attribs="@stories count">
      <Story each="{story in @stories | first {count}}" story="{story}" />
      <Button on-click="@stories.loadMore">Load More</Button>
    </component>

    <component name="Button" actions="click">
      <div class="button" on-click="click">
        <contents/>
      </div>
    </component>

  </body>
</html>
